<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Mapstraction Examples - addJSON</title>
<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
<script src="../source/mxn.js?(googlev3,[geocoder])" type="text/javascript"></script>
<style type="text/css">
#mapdiv {
  height: 400px;
}
</style> 

<script type="text/javascript">
//<![CDATA[

var mapstraction;

function initialize() {
	// create mxn object
	mapstraction = new mxn.Mapstraction('mapdiv','googlev3');

	mapstraction.addControls({
		pan: true,
		zoom: 'small',
		map_type: true
	});

	var latlon = new mxn.LatLonPoint(-4.12674, 48.1569);

	mapstraction.setMapType(mxn.Mapstraction.SATELLITE);
	mapstraction.setCenterAndZoom(latlon, 4);
	
	//Keys for Points are: label, infoBubble, icon, iconShadow, infoDiv, draggable, hover, hoverIcon, openBubble, groupName.
	//Keys for LineString and Polygons are: color, width, opacity, closed, fillColor.
	
	json = {"type": "FeatureCollection",
	"features": [
		{"type": "Feature",
			"geometry": {"type": "Point","coordinates": [-4.12674, 48.1569]},
			"properties": {
				"label":"Mentions legales",
				"infoBubble":"prout",
				"icon":"http://assets0.mapufacture.com/images/markers/flickr_marker.png",
				"iconSize": [35,35],
				"iconAnchor": [17,17]
			}
		},
		{"type": "Feature",
			"geometry": {"type": "Point", "coordinates": [-3.311, 42.6077]},
			"properties": {}
		},
		{"type": "Feature",
			"geometry": {
				"type": "LineString",
				"coordinates": [
					[-8.269478881099742, 58.271484375],
					[-4.64577957841489, 57.7001953125],
					[-3.111262595982069, 55.01953125],
					[-3.5938323108480565, 52.3388671875]
				]
			},
			"properties": {
				"color":"#ff0084",
				"width":"1",
			}
		},
		{"type": "Feature",
			"geometry": {
				"type": "Polygon",
				"coordinates": [
					[10.495013875822583, 44.4287109375],
					[12.132425161343539, 50.7568359375],
					[11.831510410632006, 51.6357421875],
					[7.282557751784403, 49.6142578125],
					[2.3357787442970377, 45.966796875],
					[6.3662546541574745, 43.3740234375],
					[10.495013875822583, 44.4287109375]
				]
			},
			"properties": {
				"color":"#ff7c2f",
				"width":"1"
			}
		}
	]};
	
	mapstraction.addJSON(json);
	
}
//]]>
</script> 

</head>
<body onload="initialize();">
<center>
<table border='1' width='50%'>
<tr>
	<td><div id="mapdiv"></div></td>
</tr>
<tr>
	<td>
<p><a href="http://geojson.org/geojson-spec.html">GeoJSON</a> added to the map</p>
<pre>
{"type": "FeatureCollection",
	"features": [
		{"type": "Feature",
			"geometry": {"type": "Point","coordinates": [-4.12674, 48.1569]},
			"properties": {
				"label":"Mentions legales",
				"infoBubble":"prout",
				"icon":"http://assets0.mapufacture.com/images/markers/flickr_marker.png",
				"iconSize": [35,35],
				"iconAnchor": [17,17]
			}
		},
		{"type": "Feature",
			"geometry": {"type": "Point", "coordinates": [-3.311, 42.6077]},
			"properties": {}
		},
		{"type": "Feature",
			"geometry": {
				"type": "LineString",
				"coordinates": [
					[-8.269478881099742, 58.271484375],
					[-4.64577957841489, 57.7001953125],
					[-3.111262595982069, 55.01953125],
					[-3.5938323108480565, 52.3388671875]
				]
			},
			"properties": {
				"color":"#ff0084",
				"width":"1",
			}
		},
		{"type": "Feature",
			"geometry": {
				"type": "Polygon",
				"coordinates": [
					[10.495013875822583, 44.4287109375],
					[12.132425161343539, 50.7568359375],
					[11.831510410632006, 51.6357421875],
					[7.282557751784403, 49.6142578125],
					[2.3357787442970377, 45.966796875],
					[6.3662546541574745, 43.3740234375],
					[10.495013875822583, 44.4287109375]
				]
			},
			"properties": {
				"color":"#ff7c2f",
				"width":"1"
			}
		}
	]
}
</pre>
	</td>
</tr>
</table>
</center>
</body> 
</html>