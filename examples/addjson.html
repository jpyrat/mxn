<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Mapstraction Examples - addJSON</title>
<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
<script src="../source/mxn.js?(googlev3,[geocoder])" type="text/javascript"></script>
<style type="text/css">
#mapdiv {
  height: 400px;
}
</style> 

<script type="text/javascript">
//<![CDATA[

var mapstraction;

function initialize() {
	// create mxn object
	mapstraction = new mxn.Mapstraction('mapdiv','googlev3');

	mapstraction.addControls({
		pan: true,
		zoom: 'small',
		map_type: true
	});

	var latlon = new mxn.LatLonPoint(48.1569,-4.12674);

	mapstraction.setMapType(mxn.Mapstraction.SATELLITE);
	mapstraction.setCenterAndZoom(latlon, 4);
	
	//Keys for Points are: label, infoBubble, icon, iconShadow, infoDiv, draggable, hover, hoverIcon, openBubble, groupName.
	//Keys for LineString and Polygons are: color, width, opacity, closed, fillColor.
	
	json = {"type": "FeatureCollection",
	"features": [
		{"type": "Feature",
			"geometry": {"type": "Point","coordinates": [-4.12674, 48.1569]},
			"properties": {
				"label":"Mentions legales",
				"infoBubble":"prout",
				"icon":"http://assets0.mapufacture.com/images/markers/flickr_marker.png",
				"iconSize": [35,35],
				"iconAnchor": [17,17]
			}
		},
		{"type": "Feature",
			"geometry": {"type": "Point", "coordinates": [-3.311, 42.6077]},
			"properties": {}
		},
		{"type": "Feature",
			"geometry": {
				"type": "LineString",
				"coordinates": [
					[-1.3139672577398, 55.880865007638],
					[0.66357180476024, 53.463872820138],
					[2.2456030547602, 53.112310320138],
					[1.9819311797602, 51.662115007638],
					[1.0590796172602, 50.563482195138],
					[-2.3686547577398, 50.124029070138],
					[-4.6538110077398, 49.289068132638]
				]
			},
			"properties": {
				"color":"#ff0084",
				"width":"1",
			}
		},
		{"type": "Feature",
			"geometry": {
				"type": "Polygon",
				"coordinates": [
					[6.9565404206498, 41.182623133063],
					[8.8022435456498, 43.379888758063],
					[10.12060292065, 42.940435633063],
					[10.73583729565, 40.918951258063],
					[10.12060292065, 38.194341883063],
					[7.3959935456498, 38.370123133063],
					[6.9565404206498, 41.182623133063]
				]
			},
			"properties": {
				"color":"#ff7c2f",
				"width":"1"
			}
		}
	]};
	
	mapstraction.addJSON(json);
	
}
//]]>
</script> 

</head>
<body onload="initialize();">
<center>
<table border='1' width='50%'>
<tr>
	<td><div id="mapdiv"></div></td>
</tr>
<tr>
	<td>
<p><a href="http://geojson.org/geojson-spec.html">GeoJSON</a> added to the map</p>
<pre>
{"type": "FeatureCollection",
	"features": [
		{"type": "Feature",
			"geometry": {"type": "Point","coordinates": [-4.12674, 48.1569]},
			"properties": {
				"label":"Mentions legales",
				"infoBubble":"prout",
				"icon":"http://assets0.mapufacture.com/images/markers/flickr_marker.png",
				"iconSize": [35,35],
				"iconAnchor": [17,17]
			}
		},
		{"type": "Feature",
			"geometry": {"type": "Point", "coordinates": [-3.311, 42.6077]},
			"properties": {}
		},
		{"type": "Feature",
			"geometry": {
				"type": "LineString",
				"coordinates": [
					[-8.269478881099742, 58.271484375],
					[-4.64577957841489, 57.7001953125],
					[-3.111262595982069, 55.01953125],
					[-3.5938323108480565, 52.3388671875]
				]
			},
			"properties": {
				"color":"#ff0084",
				"width":"1",
			}
		},
		{"type": "Feature",
			"geometry": {
				"type": "Polygon",
				"coordinates": [
					[10.495013875822583, 44.4287109375],
					[12.132425161343539, 50.7568359375],
					[11.831510410632006, 51.6357421875],
					[7.282557751784403, 49.6142578125],
					[2.3357787442970377, 45.966796875],
					[6.3662546541574745, 43.3740234375],
					[10.495013875822583, 44.4287109375]
				]
			},
			"properties": {
				"color":"#ff7c2f",
				"width":"1"
			}
		}
	]
}
</pre>
	</td>
</tr>
</table>
</center>
</body> 
</html>